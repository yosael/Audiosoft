<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:p="http://primefaces.prime.com.tr/ui">
	<!-- <script type="text/javascript"> 
		funtion agregarAntecedente(){
			var cadena= document.getElementById("formA:ant").value;
			cadena+= " "+;
		}
	</script> -->
		<rich:panel style="padding:1px;">
				<s:div rendered="#{generalMedicalDAO.managed}">
				
					<h:outputText
						value="#{app.history_consecutive}: #{generalMedicalDAO.instance.consecutive}"
						styleClass="consecutive" />
				</s:div>
				
						<rich:simpleTogglePanel eventsQueue="q1"  switchType="ajax" styleClass="letra15"  label="#{app.general_step1_tab1}" id="toggle1-1" opened="true" >
							
								<table style="margin-left:50px;font-size:15px" cellpadding="1" cellspacing="1" >
								
									<tr>
										<td style="width:290px;" >
												<h:outputLabel value="Consulta #: " style="font-weight:bold;" />
												<h:outputText value="#{medicalAppointmentDAO.instance.id}"  />
										</td>
										<td style="width:250px;" >
												<h:outputLabel value="Ultima consulta: " style="font-weight:bold;" />
												<h:outputText
														value="#{medicalAppointmentDAO.ultimaConsultaCliente(clienteHome.instance)}" rendered="#{clienteHome.managed and medicalAppointmentDAO.ultimaConsultaCliente(clienteHome.instance)!=null}" />
												<h:outputText
												value="Primera vez" rendered="#{clienteHome.managed and medicalAppointmentDAO.ultimaConsultaCliente(clienteHome.instance)==null}" />
										</td>		
										
										<td>
												
												<h:outputLabel value="Referido por: " style="font-weight:bold;" />
												<h:outputText value="#{medicalAppointmentDAO.verificarReferenciaPaciente()}" />
										</td>	
									</tr>
								</table>
							
								<hr style="margin:0;" />
								
								<table style="margin-left:50px;font-size:15px" cellpadding="1" cellspacing="1" >
									<tr>
										<td>
											<h:outputLabel value="Paciente: " style="font-weight:bold;" />
											<h:outputText  value="#{clienteHome.instance.nombres} #{clienteHome.instance.apellidos}"
														required="true" disabled="#{wizardGeneralMedical.mode == 'r'}"   />
											<h:outputText value=", Masculino" rendered="#{clienteHome.instance.genero==1}" />
											<h:outputText value=", Femenino" rendered="#{clienteHome.instance.genero==0}" />
											<h:outputText
												value=", de #{clienteHome.calcularEdadRealAlmacenada()}" rendered="#{clienteHome.instance.fechaNacimiento!=null}"  />
										</td>		
									</tr>		
								</table>				
											
								<hr style="margin:0;" />
								
								<table style="margin-left:50px;font-size:15px" cellpadding="1" cellspacing="1" >
									<tr>
										<td style="width:290px;" >
											<h:outputLabel value="Fecha nacimiento: " style="font-weight:bold;" />
											<h:outputText
												value="#{clienteHome.instance.fechaNacimiento}" rendered="#{clienteHome.instance.fechaNacimiento!=null}"  />
											<h:outputText
												value="No Especifico" rendered="#{clienteHome.instance.fechaNacimiento==null}"  />
										</td>
										<td style="width:250px;" >		
											<h:outputLabel value="Ocupacion: " style="font-weight:bold;" />		
											<h:outputText
												value="#{clienteHome.instance.ocupacion}" rendered="#{clienteHome.managed and clienteHome.instance.ocupacion!=null}" />
											<h:outputText
											value="No especifico" rendered="#{clienteHome.managed and clienteHome.instance.ocupacion==null}" />
										</td>	
										<td>
											<h:outputLabel value="Telefonos: " style="font-weight:bold;" />
												<!-- <h:inputText value="#{clienteHome.instance.telefono1}"
													disabled="true" /> -->
											<h:outputText value="#{clienteHome.instance.telefono1}"/>
											<h:outputText value=" / #{clienteHome.instance.telefono2}" rendered="#{clienteHome.instance.telefono2!=null}"/>
										</td>	
									</tr>
								</table>
								
								<hr style="margin:0;" />
								
								<table style="margin-left:50px;font-size:15px" cellpadding="1" cellspacing="1" >
									<tr>
										<td>
											<h:outputLabel value="#{app.patimast_address}: " style="font-weight:bold;" />
												
												<!--<h:inputText value="#{clienteHome.instance.direccion}"
													disabled="true" />-->
											<h:outputText value="#{clienteHome.instance.direccion}"
												disabled="true"  />
											<h:outputText value=", #{clienteHome.instance.municipio.nombre}"
												disabled="true" rendered="#{clienteHome.instance.municipio!=null}" />
											<h:outputText value=", #{clienteHome.instance.depto.nombre}"
												disabled="true" rendered="#{clienteHome.instance.depto!=null}" />
											<h:outputText value=", #{clienteHome.instance.pais.codIso2}"
											disabled="true" rendered="#{clienteHome.instance.pais!=null}" />
										</td>	
									</tr>		
									
								</table>
						
								<hr style="margin:0;" />
								
								<table style="margin-left:50px;font-size:15px" cellpadding="1" cellspacing="1" >
									<tr>
										<td>
											<h:outputLabel value="Encargado: " rendered="#{clienteHome.instance.nombresEncargado!=null}" style="font-weight:bold;" />
												<!-- <h:inputText value="#{clienteHome.instance.nombresEncargado} #{clienteHome.instance.apellidosEncargado}"
													disabled="true" /> -->
											<h:outputText rendered="#{clienteHome.instance.nombresEncargado!=null}" value="#{clienteHome.instance.nombresEncargado} #{clienteHome.instance.apellidosEncargado}"
												disabled="true" />
										</td>
									</tr>
								</table>
								<table style="margin-left:50px;font-size:15px" cellpadding="1" cellspacing="1" >
									<tr>
										<td style="width:290px;" >
											<s:button propagation="begin"
												onclick="#{rich:component('modalLoading')}.show();"
												view="/medical/scheddoc/scheduler.xhtml"
												styleClass="detailBtn" value="Ir a la agenda" style="font-size:15px;"   ><!-- #{app.sched_attend} -->
											</s:button>
										</td>
										<td style="width:350px;" >
										</td>
										<td>
											<a:commandButton action="#{clienteHome2.loadHistory(true,clienteHome.instance.id)}" style="width:200px"  styleClass="addBtn" value="Consultar historial clinico"
														ajaxSingle="true"
														reRender="modHst1,frmHistorial"
														onclick="#{rich:component('verHistorialMod')}.show();" >
											</a:commandButton>
										</td>
									</tr>
								</table>		
								
					</rich:simpleTogglePanel>	
					
			
				
					<!-- #{app.general_step2_tab1} -->
					<rich:simpleTogglePanel switchType="ajax" eventsQueue="q1" style="font-size:14px;" label="HISTORIA CLINICA ACTUAL" id="toggles21" opened="true">
						<h:panelGrid columns="2" style="padding-left:50px;font-size:14px">
						
							
							<h:outputLabel value="MOTIVO ANTERIOR: " style="font-weight:bold" rendered="#{wizardGeneralMedical.subsecuente and (wizardGeneralMedical.motivoConsultaAnterior!=null and wizardGeneralMedical.motivoConsultaAnterior!='') }" />
							<h:inputTextarea
											value="#{wizardGeneralMedical.motivoConsultaAnterior}" style="width:625px;height:35px;font-size:14px" id="txtMotivoConsultaAnterior" readonly="true" rendered="#{wizardGeneralMedical.subsecuente and (wizardGeneralMedical.motivoConsultaAnterior!=null and wizardGeneralMedical.motivoConsultaAnterior!='')}" />	
							
							<h:panelGrid columns="2" >
								<h:outputLabel value="CONSULTA POR: " style="font-weight:bold" /><!-- #{app.general_step2_reason}: -->
								
								<a:commandButton  styleClass="addBtn" value=" " 
									onclick="#{rich:component('selMotiv')}.show();"
								 	ajaxSingle="true"
								 	reRender="dMotivoConsulta"
								 	action="#{motivoConsultaHome.load()}"
								 	style="width:30px"
								 	rendered="#{wizardGeneralMedical.mode != 'r'}"
								/>
							</h:panelGrid>
							
							<h:inputTextarea
								value="#{generalMedicalDAO.instance.consultationReason}"
								disabled="#{wizardGeneralMedical.mode == 'r'}" onkeyup="validarLongitud200(this);" style="width:625px;height:35px;font-size:14px" id="txtMotivoConsulta" >
									<a:support event="onchange" action="#{wizardGeneralMedical.generarResumen()}" reRender="txtResumenPaciente" ajaxSingle="true" ></a:support>
							</h:inputTextarea>
							
							<rich:spacer height="50" width="0" ></rich:spacer>
							
							<rich:spacer height="50" width="0" ></rich:spacer>
							
							 
							 <h:panelGrid columns="1" >
								<h:outputLabel value="ENFERMEDAD ACTUAL: " style="font-weight:bold" />
								<h:outputLabel value="(Evolucion. Frecuencia. Secuencias.
														Recurrencia. Sintomas asociados. 
														Tratamientos previos)." />
							</h:panelGrid>
							
							<s:decorate template="/layout/kEditSpace.xhtml"><!-- onkeyup="toUpperCase(this);" -->
								<h:inputTextarea
									value="#{generalMedicalDAO.instance.enfermedadActual}" 
									 disabled="#{wizardGeneralMedical.mode == 'r'}"  onkeyup="validarLongitud700(this);" id="txtEnfermedadActual" style="width:625px;height:85px;font-size:14px"  >
									 <a:support event="onblur" action="#{wizardGeneralMedical.generarResumen()}" reRender="txtEnfermedadActual,txtResumenPaciente" ajaxSingle="true" ></a:support>
								</h:inputTextarea>	
							</s:decorate>
							
							<h:panelGrid columns="1" >
								<h:outputLabel value="ANTECEDENTES PATOLOGICOS: " style="font-weight:bold" />
								<h:outputLabel value="(Cardiometabolicas. Alergias. 
														Quirurgicas. Traumatologicas. 
														Del desarrollo. Obstetricos. 
														Otras enfermedades)." />
							</h:panelGrid>
							
							<s:decorate template="/layout/kEditSpace.xhtml">
								<h:inputTextarea 
									value="#{generalMedicalDAO.instance.antecedentesPatologicos}" 
									 disabled="#{wizardGeneralMedical.mode == 'r'}" onkeyup="validarLongitud700(this);"  id="txtAntecedentesPato" style="width:625px;height:85px;font-size:14px" >
									 <a:support event="onblur" action="#{wizardGeneralMedical.generarResumen()}" reRender="txtAntecedentesPato,txtResumenPaciente" ajaxSingle="true" ></a:support>
								</h:inputTextarea>	
							</s:decorate>
							
							<h:panelGrid columns="1" >
								<h:outputLabel value="ANTECEDENTES NO PATOLOGICOS: " style="font-weight:bold" />
								<h:outputLabel value="(Habitos. Alimentacion. Vivienda. 
														Medioambiente. Laboral. Drogas. 
														Medicamentos)." />
							</h:panelGrid>	
							
							<s:decorate template="/layout/kEditSpace.xhtml">
								<h:inputTextarea 
									value="#{generalMedicalDAO.instance.antecedentesNoPatologicos}" 
									 disabled="#{wizardGeneralMedical.mode == 'r'}" onkeyup="validarLongitud255(this);"  id="txtAntecedentesNoPato" style="width:625px;height:85px;font-size:14px" >
									 <a:support event="onblur" action="#{wizardGeneralMedical.generarResumen()}" reRender="txtAntecedentesNoPato,txtResumenPaciente" ajaxSingle="true" ></a:support>
								</h:inputTextarea>	
							</s:decorate>
							
							<h:panelGrid columns="1" >
								<h:outputLabel value="ANTECEDENTES FAMILIARES" style="font-weight:bold" />
								<h:outputLabel value="(Hipoacusia. Alergias. Sindromes. 
														E. Autoinmunes. Cardiometabolicas. 
														 Cancer. Otros )" />
							</h:panelGrid>
							
							<s:decorate template="/layout/kEditSpace.xhtml">
								<h:inputTextarea
									value="#{generalMedicalDAO.instance.antecedentesFamiliares}" 
									 disabled="#{wizardGeneralMedical.mode == 'r'}"  onkeyup="validarLongitud255(this);" id="txtAntecedentesMedicos"  style="width:625px;height:85px;font-size:14px" >
									 <a:support event="onblur" action="#{wizardGeneralMedical.generarResumen()}" reRender="txtAntecedentesMedicos,txtResumenPaciente" ajaxSingle="true" ></a:support>
								</h:inputTextarea>	
							</s:decorate>
							
							<s:button propagation="begin"
								onclick="#{rich:component('modalLoading')}.show();"
								view="/medical/scheddoc/scheduler.xhtml"
								styleClass="detailBtn" value="Ir a la agenda" style="font-size:15px;"   ><!-- #{app.sched_attend} -->
							</s:button>
							
						
						</h:panelGrid>
					</rich:simpleTogglePanel>
					<rich:simpleTogglePanel switchType="ajax" eventsQueue="q1" label="EXPLORACION FISICA" id="toggles22" opened="true"><!-- #{app.general_step2_tab2} -->
						
						<h:panelGrid columns="2" style="padding-left:50px;font-size:14px" >
						
							<h:outputLabel value="SIGNOS VIRALES: " style="font-weight:bold" />
					
							<h:panelGrid columns="7" cellpadding="0" cellspacing="0" >
								
								<h:panelGroup >
									<h:outputLabel value="T/A:" />
									<h:inputText value="#{generalMedicalDAO.instance.height}"
										style="width:58px;"
										disabled="#{wizardGeneralMedical.mode == 'r'}" >
										<a:support event="onblur" action="#{wizardGeneralMedical.generarResumen()}" reRender="txtResumenPaciente,txtResumenPaciente" ajaxSingle="true" ></a:support>	
									</h:inputText>
								</h:panelGroup>
								
								<h:panelGroup>
									<h:outputLabel value="FC:" />
									<h:inputText value="#{generalMedicalDAO.instance.heartRate}"
										style="width:58px;"
										disabled="#{wizardGeneralMedical.mode == 'r'}"  id="txtHearRate" >
										<a:support event="onblur" action="#{wizardGeneralMedical.generarResumen()}" reRender="txtHearRate,txtResumenPaciente" ajaxSingle="true" ></a:support>
									</h:inputText>
								</h:panelGroup>
								
								<h:panelGroup>
									<h:outputLabel value="FR:" />
									<h:inputText
										value="#{generalMedicalDAO.instance.respiratoryRate}"
										style="width:58px;"
										disabled="#{wizardGeneralMedical.mode == 'r'}" id="resRate" >
											<a:support event="onblur" action="#{wizardGeneralMedical.generarResumen()}" reRender="resRate,txtResumenPaciente" ajaxSingle="true" ></a:support>
									</h:inputText>
								</h:panelGroup>
								
								<h:panelGroup>
									<h:outputLabel value="Pulso:" />
									<h:inputText
										value="#{generalMedicalDAO.instance.pulso}"
										style="width:58px;"
										disabled="#{wizardGeneralMedical.mode == 'r'}" >
										<a:support event="onblur" action="#{wizardGeneralMedical.generarResumen()}" reRender="resRate,txtResumenPaciente" ajaxSingle="true" ></a:support>
									</h:inputText>
								</h:panelGroup>
								
								<h:panelGroup>
									<h:outputLabel value="#{app.general_step2_weight}:" />
									<h:inputText value="#{generalMedicalDAO.instance.weight}"
										style="width:58px;"
										disabled="#{wizardGeneralMedical.mode == 'r'}" id="txtWeight" >
										<a:support event="onblur" action="#{wizardGeneralMedical.generarResumen()}" reRender="txtWeight,txtResumenPaciente" ajaxSingle="true" ></a:support>
									</h:inputText>
								</h:panelGroup>
								
								<h:panelGroup>
									<h:outputLabel value="TALLA:" />
									<h:inputText
										value="#{generalMedicalDAO.instance.talla}"
										style="width:58px;"
										disabled="#{wizardGeneralMedical.mode == 'r'}" id="txtTalla" >
											<a:support event="onblur" action="#{wizardGeneralMedical.generarResumen()}" reRender="txtTalla,txtResumenPaciente" ajaxSingle="true" ></a:support>
									</h:inputText>
								</h:panelGroup>
								
								<h:panelGroup>
									<h:outputLabel value="TEMP" /><!-- #{app.general_step2_temperature}: -->
									<h:inputText value="#{generalMedicalDAO.instance.temperature}"
										style="width:58px;"
										disabled="#{wizardGeneralMedical.mode == 'r'}"  id="txtTemp" >
											<a:support event="onblur" action="#{wizardGeneralMedical.generarResumen()}" reRender="txtTemp,txtResumenPaciente" ajaxSingle="true" ></a:support>
									</h:inputText>
								</h:panelGroup>
								
							</h:panelGrid>
							
							<rich:spacer width="0" height="30" ></rich:spacer>
							<rich:spacer width="0" height="30" ></rich:spacer>
							
							<h:outputLabel value="INSPECCION GENERAL " style="font-weight:bold" />
							<s:decorate template="/layout/kEditSpace.xhtml"  >
								<h:inputTextarea value="#{generalMedicalDAO.instance.inspeccionGeneral}"
									disabled="#{wizardGeneralMedical.mode == 'r'}" onkeyup="validarLongitud700(this);" style="width:625px;height:85px;font-size:14px" id="txtInspec" >
										<a:support event="onblur" action="#{wizardGeneralMedical.generarResumen()}" reRender="txtInspec,txtResumenPaciente" ajaxSingle="true" ></a:support>
								</h:inputTextarea>
							</s:decorate>
							
							
							<h:outputLabel value="OIDOS" style="font-weight:bold" />
							<s:decorate template="/layout/kEditSpace.xhtml"  >
								<h:inputTextarea value="#{generalMedicalDAO.instance.oidos}"
									disabled="#{wizardGeneralMedical.mode == 'r'}" onkeyup="validarLongitud255(this);" style="width:625px;height:85px;font-size:14px" id="txtOidos">
										<a:support event="onblur" action="#{wizardGeneralMedical.generarResumen()}" reRender="txtOidos,txtResumenPaciente" ajaxSingle="true" ></a:support>
								</h:inputTextarea>
							</s:decorate>
							
							<h:outputLabel value="NARIZ - FOSAS NASALES:" style="font-weight:bold" />
							<s:decorate template="/layout/kEditSpace.xhtml">
								<h:inputTextarea value="#{generalMedicalDAO.instance.narizFosasNasales}"
									disabled="#{wizardGeneralMedical.mode == 'r'}" onkeyup="validarLongitud255(this);" style="width:625px;height:85px;font-size:14px"  id="txtNariz" >
										<a:support event="onblur" action="#{wizardGeneralMedical.generarResumen()}" reRender="txtNariz,txtResumenPaciente" ajaxSingle="true" ></a:support>
									</h:inputTextarea>
							</s:decorate>
							
							<h:outputLabel value="BOCA - FARINGE:" style="font-weight:bold" />
							<s:decorate template="/layout/kEditSpace.xhtml"  >
								<h:inputTextarea value="#{generalMedicalDAO.instance.bocaFaringe}"
									disabled="#{wizardGeneralMedical.mode == 'r'}" onkeyup="validarLongitud255(this);" style="width:625px;height:85px;font-size:14px" id="txtBoca" >
										<a:support event="onblur" action="#{wizardGeneralMedical.generarResumen()}" reRender="txtBoca,txtResumenPaciente" ajaxSingle="true" ></a:support>
								</h:inputTextarea>
							</s:decorate>
							
							<h:outputLabel value="LARINGE: " style="font-weight:bold" />
							<s:decorate template="/layout/kEditSpace.xhtml">
								<h:inputTextarea
									value="#{generalMedicalDAO.instance.laringe}"
									disabled="#{wizardGeneralMedical.mode == 'r'}" onkeyup="validarLongitud255(this);" style="width:625px;height:85px;font-size:14px" id="txtLaringe" >
										<a:support event="onblur" action="#{wizardGeneralMedical.generarResumen()}" reRender="txtLaringe,txtResumenPaciente" ajaxSingle="true" ></a:support>
								</h:inputTextarea>
							</s:decorate>
							
							<h:outputLabel value="CABEZA - CUELLO Y TORAX:" style="font-weight:bold" />
							<s:decorate template="/layout/kEditSpace.xhtml">
								<h:inputTextarea value="#{generalMedicalDAO.instance.cabezaCuello}"
									disabled="#{wizardGeneralMedical.mode == 'r'}" onkeyup="validarLongitud255(this);" style="width:625px;height:85px;font-size:14px" id="txtCabeza" >
										<a:support event="onblur" action="#{wizardGeneralMedical.generarResumen()}" reRender="txtCabeza,txtResumenPaciente" ajaxSingle="true" ></a:support>
								</h:inputTextarea>
							</s:decorate>
							
							<h:outputLabel value="SISTEMA NERVIOSO" style="font-weight:bold" />
							<s:decorate template="/layout/kEditSpace.xhtml">
								<h:inputTextarea value="#{generalMedicalDAO.instance.sistemaNervioso}"
									disabled="#{wizardGeneralMedical.mode == 'r'}" onkeyup="validarLongitud255(this);" style="width:625px;height:85px;font-size:14px" id="txtSistema" >
										<a:support event="onblur" action="#{wizardGeneralMedical.generarResumen()}" reRender="txtSistema,txtResumenPaciente" ajaxSingle="true" ></a:support>			
								</h:inputTextarea>
							</s:decorate>
							
							<s:button propagation="begin"
								onclick="#{rich:component('modalLoading')}.show();"
								view="/medical/scheddoc/scheduler.xhtml"
								styleClass="detailBtn" value="Ir a la agenda" style="font-size:15px;"   ><!-- #{app.sched_attend} -->
							</s:button>
							
						</h:panelGrid>
					</rich:simpleTogglePanel>
					
					<rich:simpleTogglePanel switchType="ajax" eventsQueue="q1" label="EXAMENES COMPLEMENTARIOS. RESULTADOS" id="togglesExamenesCompl" opened="true">
						
						<h:panelGrid columns="2" style="padding-left:50px;font-size:14px">
						
							<h:outputLabel value="AUDIOLOGIA:" style="font-weight:bold" />
							<s:decorate template="/layout/kEditSpace.xhtml">
								<h:inputTextarea value="#{generalMedicalDAO.instance.exaAudiologia}"
									disabled="#{wizardGeneralMedical.mode == 'r'}" onkeyup="validarLongitud255(this);" style="width:625px;height:85px;font-size:14px" id="txtExaAudio" >
										<a:support event="onblur" action="#{wizardGeneralMedical.generarResumen()}" reRender="txtExaAudio,txtResumenPaciente" ajaxSingle="true" ></a:support>
								</h:inputTextarea>
							</s:decorate>
							
								<h:outputLabel value="Adjuntar imagen:" style="font-weight:bold" />
								<s:decorate template="/layout/kEditSpace.xhtml">
									<h:column id="idImageCol" >
										<h:outputLabel value="#{app.productomast_imgRestri}" />
										<rich:fileUpload fileUploadListener="#{generalMedicalDAO.loadImage}"
											listHeight="0" maxFilesQuantity="1" 
											immediate="true" acceptedTypes="jpg,png,jpeg,bmp"
											addControlLabel="Cargar imagen" id="Cargar"
											immediateUpload="true" listWidth="300" autoclear="false"
											doneLabel="Listo" stopButtonClassDisabled="true"
											style="height:30px;" clearAllControlLabel="Quitar imagen"
											cleanButtonClassDisabled="false"  ajaxSingle="true" >
											<a:support event="onuploadcomplete" 
												eventsQueue="q1" reRender="idImageCol"  ajaxSingle="true" /><!-- formproducto -->
										</rich:fileUpload>
										<br />
										<h:outputLabel styleClass="errors"
											value="#{sainv.productoHome_error_image}"
											rendered="#{generalMedicalDAO.imgSize==false}" id="errorIm" />
										<br />
										<br />
										<s:graphicImage id="graphPrd" width="300px" height="200px"
											value="#{generalMedicalDAO.instance.imagenExaAudiologia}"
											rendered="#{not empty generalMedicalDAO.instance.imagenExaAudiologia}" onclick="#{rich:component('ModExpandirImagen')}.show();" />
									</h:column>
									<!-- 
									<h:column id="ModExpandirBtn" >
										<a:commandButton  styleClass="addBtn" value=" EXPANDIR IMAGEN " 
											onclick="#{rich:component('ModExpandirImagen')}.show();"
										 	ajaxSingle="true"
										 	reRender="ModExpandirImagenDv"
										 	style="width:30px"
										 	rendered="#{not empty generalMedicalDAO.instance.imagenExaAudiologia}"
										/> 
									</h:column>-->
								</s:decorate>
							<h:outputLabel value="OTONEUROLOGIA: " style="font-weight:bold" />
							<s:decorate template="/layout/kEditSpace.xhtml">
								<h:inputTextarea value="#{generalMedicalDAO.instance.exaOtoneurologia}"
									disabled="#{wizardGeneralMedical.mode == 'r'}" onkeyup="validarLongitud255(this);" style="width:625px;height:85px;font-size:14px" id="txtExaOtoneuro" >
										<a:support event="onblur" action="#{wizardGeneralMedical.generarResumen()}" reRender="txtExaOtoneuro,txtResumenPaciente" ajaxSingle="true" ></a:support>
								</h:inputTextarea>
							</s:decorate>
							
							<h:outputLabel value="LABORATORIO CLINICO: " style="font-weight:bold" />
							<s:decorate template="/layout/kEditSpace.xhtml">
								<h:inputTextarea value="#{generalMedicalDAO.instance.labClinico}"
									disabled="#{wizardGeneralMedical.mode == 'r'}" onkeyup="validarLongitud255(this);" style="width:625px;height:85px;font-size:14px" id="txtLabClinico" >
										<a:support event="onblur" action="#{wizardGeneralMedical.generarResumen()}" reRender="txtLabClinico,txtResumenPaciente" ajaxSingle="true" ></a:support>
								</h:inputTextarea>
							</s:decorate>
							
							<h:outputLabel value="RADIOGRAFIAS - IMAGENOLOGIAS: " style="font-weight:bold" />
							<s:decorate template="/layout/kEditSpace.xhtml">
								<h:inputTextarea value="#{generalMedicalDAO.instance.radioImagenologia}"
									disabled="#{wizardGeneralMedical.mode == 'r'}" onkeyup="validarLongitud255(this);" style="width:625px;height:85px;font-size:14px" id="txtRadioImage" >
									<a:support event="onblur" action="#{wizardGeneralMedical.generarResumen()}" reRender="txtRadioImage,txtResumenPaciente" ajaxSingle="true" ></a:support>
								</h:inputTextarea>
							</s:decorate>
							
						</h:panelGrid>
						
					</rich:simpleTogglePanel>
					
					
					<rich:simpleTogglePanel styleClass="classHead"  switchType="ajax" label="RESUMEN PACIENTE"  opened="true"  >
					<table style="width:100%;" >
						<tr >
							<td style="width:100%" >
								<h:inputTextarea value="#{wizardGeneralMedical.resumenPaciente}" style="border:none;width:900px;height:80px;font-size:16px"  id="txtResumenPaciente"/>
							</td>
						</tr>
						<tr>
							<td>
								<s:button propagation="begin"
									onclick="#{rich:component('modalLoading')}.show();"
									view="/medical/scheddoc/scheduler.xhtml"
									styleClass="detailBtn" value="Ir a la agenda" style="font-size:15px;"   ><!-- #{app.sched_attend} -->
								</s:button>
							</td>
						</tr>
					</table>
				</rich:simpleTogglePanel>
				
				<rich:simpleTogglePanel styleClass="classHead"  switchType="ajax" label="#{app.diagnostic_tab}"  opened="true">
					<rich:spacer height="40" ></rich:spacer>
					<table style="width:100%;" >
						<tr >
							<td style="width:10%">
								
									<a:commandButton onclick="#{rich:component('selDiagn')}.show();" id="btnAddDiag"  ajaxSingle="true" 
									rendered="#{medicalAppointmentDAO.instance.clinicalHistory==null || wizardGeneralMedical.editable}"
										 action="#{diagnosticoMedHome.getDiagnostListByName()}" reRender="d1"
										styleClass="addBtn" value="AGREGAR" style="font-size:14px;width:130px;">
									</a:commandButton>
							</td>
							<td style="width:90%" >
								
								<rich:dataTable var="res"   style="background-color:gray;background-image:none;" value="#{prescriptionHome.diagnosticosAgregados}" id="_tblDiagn"
									align="center"  rowClasses="tblEven,tblOdd" onRowMouseOver="this.style.backgroundColor='#A3CAF1'" onRowMouseOut="this.style.backgroundColor='#{a4jSkin.rowClassName}'" 
									headerClass="tablaHeader" footerClass="tableScroll">
									<f:facet name="header" style="background-color:gray;background-image:none;"><span style="font-size:16px;">DIAGNOSTICOS PRESUNTIVOS</span></f:facet>
									<!-- #{app.diagmed_list_sel} -->
									<rich:column>
										<f:facet name="header">#{app.diagnos_name}</f:facet>
										<h:outputText style="font-size:14px;" value="#{res.diagnostico.nombre}" />
									</rich:column>	
									<rich:column>
										<f:facet name="header">#{app.diagn_prpal}</f:facet>
										<h:selectBooleanCheckbox value="#{res.principal}"  >
											<a:support event="onchange" ajaxSingle="true" eventsQueue="q1" reRender="_tblDiagn" 
													action="#{prescriptionHome.setDiagnPrpal(res)}" />
										</h:selectBooleanCheckbox>
									</rich:column>
									<rich:column rendered="#{medicalAppointmentDAO.instance.clinicalHistory==null || wizardGeneralMedical.editable==true}">
										<f:facet name="header">Quitar</f:facet>
										<a:commandLink reRender="_tblDiagn"
											action="#{prescriptionHome.removerDiagnostico(res)}" ajaxSingle="true" eventsQueue="q1" ignoreDupResponses="true" >
											<h:graphicImage value="/kubeImg/table_delete16.png" />
										</a:commandLink>
									</rich:column>
								</rich:dataTable>
								<rich:spacer height="40" ></rich:spacer>
							</td>
						</tr>
						
						
						<tr>	
							<td style="width:10%" >
								<h:outputLabel value="PLAN DE ATENCION"  style="font-size:14px;font-weight:bold" />
							</td>
							<td style="width:90%" >
								<s:decorate template="/layout/kEditSpace.xhtml"   id="dcTratamientoSord" >
									<h:panelGrid columns="1" >
										
										<h:inputTextarea value="#{generalMedicalDAO.instance.treatmentDescriptive}" style="width:780px;height:95px;font-size:16px"
											rows="6" disabled="#{(generalContainer.mode=='r') and wizardGeneralMedical.editable==false}" >
											<a:support event="onblur" ajaxSingle="true"/>
										</h:inputTextarea>
									</h:panelGrid>	
								</s:decorate>
							</td>
							
						</tr>
					</table>
					
					<rich:spacer height="50" ></rich:spacer>
					
					<table style="width:100%;" >
						<tr>
							<td style="width:10%" >
								<a:commandButton onclick="#{rich:component('selRecomed')}.show();" ajaxSingle="true" 
									rendered="#{medicalAppointmentDAO.instance.clinicalHistory==null || wizardGeneralMedical.editable==true}"
										action="#{recomendacionMedHome.getRecomenList()}" reRender="r1"
										styleClass="addBtn" value="AGREGAR" style="font-size:14px;width:130px">
									</a:commandButton>	
							</td>
							<td style="width:90%;" >
							
								<rich:dataTable var="res" value="#{prescriptionHome.recomendacionesAgregadas}" id="_tblRecom"
									align="center"  rowClasses="tblEven,tblOdd" onRowMouseOver="this.style.backgroundColor='#A3CAF1'" onRowMouseOut="this.style.backgroundColor='#{a4jSkin.rowClassName}'" 
									headerClass="tablaHeader" footerClass="tableScroll">
									<f:facet name="header"><span style="font-size:16px;">RECOMENDACIONES</span></f:facet>
									
									<rich:column>
										<f:facet name="header">#{app.medicm_name}</f:facet>
										<h:outputText style="font-size:14px;" value="#{res.recomendacion.nombre}" />
									</rich:column>	
									<rich:column rendered="#{medicalAppointmentDAO.instance.clinicalHistory==null || wizardGeneralMedical.editable==true}">
										<f:facet name="header">Quitar</f:facet>
										<a:commandLink reRender="_tblRecom"
											action="#{prescriptionHome.removerRecomendacion(res)}" ajaxSingle="true" ignoreDupResponses="true" >
											<h:graphicImage value="/kubeImg/table_delete16.png" />
										</a:commandLink>
									</rich:column>	
								</rich:dataTable>
								<rich:spacer height="50" ></rich:spacer>
							</td>
						</tr>
					</table>
					
					<table style="width:100%;" >
						
						<tr>

							<td style="width:100%" colspan="2" >
								
								<rich:dataTable var="res" value="#{prescriptionHome.itemsAgregados}" id="_tableMedSug" 
									align="center"  rowClasses="tblEven,tblOdd" onRowMouseOver="this.style.backgroundColor='#A3CAF1'" onRowMouseOut="this.style.backgroundColor='#{a4jSkin.rowClassName}'" 
									headerClass="tablaHeader" footerClass="tableScroll">
									<f:facet name="header"><span style="font-size:16px;">MEDICAMENTOS</span></f:facet>
									
									<rich:column >
										<f:facet name="header">#{app.medicm_name}</f:facet>
										<h:outputText value="#{res.medicamento.nombre}"  style="font-size:14px;"/>
									</rich:column>						
									<rich:column >
										<f:facet name="header">#{app.medicm_sustancia}</f:facet>
										<a:commandLink action="#{prescriptionHome.seleccionarInfoMedicamento(res)}" onclick="#{rich:component('selInfoMedicamento')}.show();" >
											<h:outputText value="#{res.medicamento.sustanciaAct.nombre}" style="font-size:14px;" />
										</a:commandLink>
									</rich:column>
									<rich:column>
										<f:facet name="header">Laboratorio</f:facet>
										<h:selectOneMenu value="#{res.selLab}" required="true" rendered="#{not generalMedicalDAO.isManaged() || wizardGeneralMedical.editable==true and res.id==null}">
											<s:selectItems value="#{res.medicamento.medicamentosLab}" var="_lab" 
												label="#{_lab.laboratorio.nombre}" noSelectionLabel=" " style="font-size:14px;"  />
											<s:convertEntity />
											<a:support event="onchange" ajaxSingle="true" eventsQueue="q1"/>
										</h:selectOneMenu>
										<h:outputText value="#{res.laboratorio.nombre}" rendered="#{generalMedicalDAO.isManaged() and res.id!=null}" style="font-size:14px;" />
									</rich:column>
									<rich:column >
										<f:facet name="header">#{app.medicm_presen}</f:facet>
										<h:selectOneMenu value="#{res.selPresen}" required="true" rendered="#{not generalMedicalDAO.isManaged() || wizardGeneralMedical.editable==true and res.id==null}">
											<s:selectItems value="#{res.medicamento.presentaciones}" var="_pre" 
												label="#{_pre.presentacion.nombre}" noSelectionLabel=" " style="font-size:14px;"/>
											<s:convertEntity />
											<a:support event="onchange" ajaxSingle="true" eventsQueue="q1"/>
										</h:selectOneMenu>
										<h:outputText value="#{res.presentacion.nombre}" rendered="#{generalMedicalDAO.isManaged() and res.id!=null}" style="font-size:14px;" />
									</rich:column>
									<rich:column>
										<f:facet name="header">Concentracion</f:facet>
										<h:selectOneMenu value="#{res.selDosif}" required="true" rendered="#{not generalMedicalDAO.isManaged() || wizardGeneralMedical.editable==true and res.id==null}">
											<s:selectItems value="#{res.medicamento.dosificaciones}" var="_dos" 
												label="#{_dos.dosificacion.nombre}" noSelectionLabel=" " style="font-size:14px;"/>
											<s:convertEntity />
											<a:support event="onchange" ajaxSingle="true" eventsQueue="q1"/>
										</h:selectOneMenu>
										<h:outputText value="#{res.dosificacion.nombre}" rendered="#{generalMedicalDAO.isManaged() and res.id!=null}" style="font-size:14px;"/>
									</rich:column>
									<rich:column >
										<f:facet name="header">Modo de uso</f:facet>
										<h:inputText value="#{res.observacion}" rendered="#{not generalMedicalDAO.isManaged() || wizardGeneralMedical.editable==true}" >
											<a:support event="onkeyup" ajaxSingle="true" ></a:support>
										</h:inputText>
										<h:outputText value="#{res.observacion}" rendered="#{generalMedicalDAO.isManaged() and wizardGeneralMedical.editable==false}" style="font-size:14px;"/>
									</rich:column>
									<rich:column >
										<f:facet name="header">Dias Tratamiento</f:facet>
										<h:inputText value="#{res.diasTratamiento}" rendered="#{not generalMedicalDAO.isManaged() || wizardGeneralMedical.editable==true}"  maxlength="30" style="width:78px;" >
											<a:support event="onkeyup" ajaxSingle="true" ></a:support>
										</h:inputText>
										<h:outputText value="#{res.diasTratamiento}" rendered="#{generalMedicalDAO.isManaged() and wizardGeneralMedical.editable==false}" style="font-size:12px;"/>
									</rich:column>
									<rich:column style="width:78px;" >
										<f:facet name="header">Cantidad</f:facet>
										<h:inputText value="#{res.cantidadSt}" rendered="#{not generalMedicalDAO.isManaged() || wizardGeneralMedical.editable==true}"  maxlength="30"  style="width:78px;" >
											<a:support event="onkeyup" ajaxSingle="true" ></a:support>
										</h:inputText>
										<h:outputText value="#{res.cantidadSt}" rendered="#{generalMedicalDAO.isManaged() and wizardGeneralMedical.editable==false}" style="font-size:12px;"/>
									</rich:column>
									<rich:column rendered="#{medicalAppointmentDAO.instance.clinicalHistory==null || wizardGeneralMedical.editable==true}">
										<f:facet name="header">Quitar</f:facet>
										<a:commandLink reRender="_tableMedSug"
											action="#{prescriptionHome.removerItem(res)}" ajaxSingle="true" ignoreDupResponses="true" >
											<h:graphicImage value="/kubeImg/table_delete16.png" />
										</a:commandLink>
									</rich:column>
								</rich:dataTable>
								
								
							</td>
						</tr>
						
						<tr>
							<td style="width:80%" >
								
							</td>
							<td style="width:20%" >
								<a:commandButton onclick="#{rich:component('selMedicm')}.show();" ajaxSingle="true" 
										rendered="#{medicalAppointmentDAO.instance.clinicalHistory==null || wizardGeneralMedical.editable==true}"
										action="#{medicamentoHome.getMedicamentosList()}" reRender="m1"
										styleClass="addBtn" value="AGREGAR" style="font-size:14px;width:130px" >
									</a:commandButton>
							</td>
						</tr>
				
					</table>
					
					<rich:spacer height="50" ></rich:spacer>
				
				</rich:simpleTogglePanel>
				
				
				
				<rich:simpleTogglePanel styleClass="classHead"  switchType="ajax" label="EXAMENES COMPLEMENTARIOS"  opened="true">
					<rich:spacer height="40" ></rich:spacer>
					<table style="width:100%;" >
						<tr >
							<td style="width:10%">
								
									<a:commandButton onclick="#{rich:component('selExamAudio')}.show();" id="btnAddExamenAudio"  ajaxSingle="true" 
									rendered="#{medicalAppointmentDAO.instance.clinicalHistory==null || wizardGeneralMedical.editable==true}"
										 action="#{examenAudiologiaHome.cargarExamenes()}" reRender="d1Audio"
										styleClass="addBtn" value="AGREGAR" style="font-size:14px;width:130px;">
									</a:commandButton>
							</td>
							<td style="width:90%" >
								
								<rich:dataTable var="res"   style="background-color:gray;background-image:none;" value="#{prescriptionHome.lstExamenesAudioConsulta}" id="_tblExamAudio"
									align="center"  rowClasses="tblEven,tblOdd" onRowMouseOver="this.style.backgroundColor='#A3CAF1'" onRowMouseOut="this.style.backgroundColor='#{a4jSkin.rowClassName}'" 
									headerClass="tablaHeader" footerClass="tableScroll">
									<f:facet name="header" style="background-color:gray;background-image:none;"><span style="font-size:16px;">EXAMENES COMPLEMENTARIOS AUDIOLOGIA</span></f:facet>
									<!-- #{app.diagmed_list_sel} -->
									<rich:column>
										<f:facet name="header">Codigo</f:facet>
										<h:outputText style="font-size:14px;" value="#{res.examen.codigo}" />
									</rich:column>
									<rich:column>
										<f:facet name="header">Nombre</f:facet>
										<h:outputText style="font-size:14px;" value="#{res.examen.nombre}" />
									</rich:column>	
									<rich:column>
										<f:facet name="header">Categoria</f:facet>
										<h:outputText style="font-size:14px;" value="#{res.examen.categoria}" />
									</rich:column>
									<rich:column rendered="#{medicalAppointmentDAO.instance.clinicalHistory==null || wizardGeneralMedical.editable==true}">
										<f:facet name="header">Quitar</f:facet>
										<a:commandLink reRender="_tblExamAudio"
											action="#{prescriptionHome.removerExamenAudio(res)}" ajaxSingle="true" eventsQueue="q1" ignoreDupResponses="true" >
											<h:graphicImage value="/kubeImg/table_delete16.png" />
										</a:commandLink>
									</rich:column>
								</rich:dataTable>
								<rich:spacer height="40" ></rich:spacer>
							</td>
						</tr>
						<tr>
							<td colspan="2" ><rich:spacer height="40" ></rich:spacer></td>
						</tr>
						<tr>	
							<td style="width:10%">
								<a:commandButton onclick="#{rich:component('selExamOto')}.show();" id="btnAddExamenOto"  ajaxSingle="true" 
								rendered="#{medicalAppointmentDAO.instance.clinicalHistory==null || wizardGeneralMedical.editable==true}"
									 action="#{examenOtoneurologiaHome.cargarExamenes()}" reRender="d1ExamOto"
									styleClass="addBtn" value="AGREGAR" style="font-size:14px;width:130px;">
								</a:commandButton>
							</td>
							<td style="width:90%" >
								
								<rich:dataTable var="res"   style="background-color:gray;background-image:none;" value="#{prescriptionHome.lstExamenesOtoConsulta}" id="_tblExamOto"
									align="center"  rowClasses="tblEven,tblOdd" onRowMouseOver="this.style.backgroundColor='#A3CAF1'" onRowMouseOut="this.style.backgroundColor='#{a4jSkin.rowClassName}'" 
									headerClass="tablaHeader" footerClass="tableScroll">
									<f:facet name="header" style="background-color:gray;background-image:none;"><span style="font-size:16px;">EXAMENES COMPLEMENTARIOS DE OTONEUROLOGIA</span></f:facet>
									<!-- #{app.diagmed_list_sel} -->
									<rich:column>
										<f:facet name="header">Codigo</f:facet>
										<h:outputText style="font-size:14px;" value="#{res.examen.codigo}" />
									</rich:column>
									<rich:column>
										<f:facet name="header">Nombre</f:facet>
										<h:outputText style="font-size:14px;" value="#{res.examen.nombre}" />
									</rich:column>	
									<rich:column>
										<f:facet name="header">Categoria</f:facet>
										<h:outputText style="font-size:14px;" value="#{res.examen.categoria}" />
									</rich:column>
									<rich:column rendered="#{medicalAppointmentDAO.instance.clinicalHistory==null || wizardGeneralMedical.editable==true}">
										<f:facet name="header">Quitar</f:facet>
										<a:commandLink reRender="_tblExamOto"
											action="#{prescriptionHome.removerExamenOtoneuro(res)}" ajaxSingle="true" eventsQueue="q1" ignoreDupResponses="true" >
											<h:graphicImage value="/kubeImg/table_delete16.png" />
										</a:commandLink>
									</rich:column>
								</rich:dataTable>
								<rich:spacer height="40" ></rich:spacer>
							</td>
						</tr>
						
						<tr>
							<td colspan="2" ><rich:spacer height="40" ></rich:spacer></td>
						</tr>
						
						<tr>	
							<td style="width:10%">
								<a:commandButton onclick="#{rich:component('selExamLab')}.show();" id="btnAddExamenLab"  ajaxSingle="true" 
								rendered="#{medicalAppointmentDAO.instance.clinicalHistory==null || wizardGeneralMedical.editable==true}"
									 action="#{examenLaboratorioHome.cargarExamenes()}" reRender="d1ExamLab"
									styleClass="addBtn" value="AGREGAR" style="font-size:14px;width:130px;">
								</a:commandButton>
							</td>
							<td style="width:90%" >
								
								<rich:dataTable var="res"   style="background-color:gray;background-image:none;" value="#{prescriptionHome.lstExamenesLabConsulta}" id="_tblExamLab"
									align="center"  rowClasses="tblEven,tblOdd" onRowMouseOver="this.style.backgroundColor='#A3CAF1'" onRowMouseOut="this.style.backgroundColor='#{a4jSkin.rowClassName}'" 
									headerClass="tablaHeader" footerClass="tableScroll">
									<f:facet name="header" style="background-color:gray;background-image:none;"><span style="font-size:16px;">EXAMENES COMPLEMENTARIOS DE LABORATORIO</span></f:facet>
									<!-- #{app.diagmed_list_sel} -->
									<rich:column>
										<f:facet name="header">Codigo</f:facet>
										<h:outputText style="font-size:14px;" value="#{res.examenLab.codigo}" />
									</rich:column>
									<rich:column>
										<f:facet name="header">Nombre</f:facet>
										<h:outputText style="font-size:14px;" value="#{res.examenLab.nombre}" />
									</rich:column>	
									<rich:column>
										<f:facet name="header">Categoria</f:facet>
										<h:outputText style="font-size:14px;" value="#{res.examenLab.categoria}" />
									</rich:column>
									<rich:column rendered="#{medicalAppointmentDAO.instance.clinicalHistory==null || wizardGeneralMedical.editable==true}">
										<f:facet name="header">Quitar</f:facet>
										<a:commandLink reRender="_tblExamLab"
											action="#{prescriptionHome.removerExamenLab(res)}" ajaxSingle="true" eventsQueue="q1" ignoreDupResponses="true" >
											<h:graphicImage value="/kubeImg/table_delete16.png" />
										</a:commandLink>
									</rich:column>
								</rich:dataTable>
								<rich:spacer height="40" ></rich:spacer>
							</td>
						</tr>
						<tr>
							<td colspan="2" ><rich:spacer height="40" ></rich:spacer></td>
						</tr>
						<tr>	
							<td style="width:10%">
								<a:commandButton onclick="#{rich:component('selExamImageno')}.show();" id="btnAddExamenImage"  ajaxSingle="true" 
								rendered="#{medicalAppointmentDAO.instance.clinicalHistory==null || wizardGeneralMedical.editable==true}"
									 action="#{examImagenologiaHome.cargarExamenes()}" reRender="d1ExamImage"
									styleClass="addBtn" value="AGREGAR" style="font-size:14px;width:130px;">
								</a:commandButton>
							</td>
							<td style="width:90%" >
								
								<rich:dataTable var="res"   style="background-color:gray;background-image:none;" value="#{prescriptionHome.lstExamImagenoConsulta}" id="_tblExamImage"
									align="center"  rowClasses="tblEven,tblOdd" onRowMouseOver="this.style.backgroundColor='#A3CAF1'" onRowMouseOut="this.style.backgroundColor='#{a4jSkin.rowClassName}'" 
									headerClass="tablaHeader" footerClass="tableScroll">
									<f:facet name="header" style="background-color:gray;background-image:none;"><span style="font-size:16px;">EXAMENES COMPLEMENTARIOS DE IMAGENOLOGIA/RADIOGRAFIA</span></f:facet>
									<!-- #{app.diagmed_list_sel} -->
									<rich:column>
										<f:facet name="header">Codigo</f:facet>
										<h:outputText style="font-size:14px;" value="#{res.examen.codigo}" />
									</rich:column>
									<rich:column>
										<f:facet name="header">Nombre</f:facet>
										<h:outputText style="font-size:14px;" value="#{res.examen.nombre}" />
									</rich:column>	
									<rich:column>
										<f:facet name="header">Categoria</f:facet>
										<h:outputText style="font-size:14px;" value="#{res.examen.categoria}" />
									</rich:column>
									<rich:column rendered="#{medicalAppointmentDAO.instance.clinicalHistory==null || wizardGeneralMedical.editable==true}">
										<f:facet name="header">Quitar</f:facet>
										<a:commandLink reRender="_tblExamImage"
											action="#{prescriptionHome.removerExamenImageno(res)}" ajaxSingle="true" eventsQueue="q1" ignoreDupResponses="true" >
											<h:graphicImage value="/kubeImg/table_delete16.png" />
										</a:commandLink>
									</rich:column>
								</rich:dataTable>
								<rich:spacer height="40" ></rich:spacer>
							</td>
						</tr>
						
						
					</table>
				</rich:simpleTogglePanel>
							
				<rich:simpleTogglePanel switchType="ajax" label="EXAMENES Y SERVICIOS MEDICOS" opened="true" >
				
					<rich:spacer height="50" ></rich:spacer>
					
					<center>
						<table style="width:100%; height:80%;">
							
							<tr>
								<td style="width:10%" >
									<a:commandButton onclick="#{rich:component('selExam')}.show();" ajaxSingle="true" 
										rendered="#{medicalAppointmentDAO.instance.clinicalHistory==null || wizardGeneralMedical.editable==true}"									
										action="#{serviceDAO.loadServiciosExa()}" reRender="e1"
										styleClass="addBtn" value="AGREGAR" style="font-size:14px;width:130px" >
									</a:commandButton>
								</td>
								
								<td style="width:90%" >
									
									<rich:dataTable var="res" value="#{prescriptionHome.examenesAgregados}" id="_tblExam" 
										align="center"  rowClasses="tblEven,tblOdd" onRowMouseOver="this.style.backgroundColor='#A3CAF1'" onRowMouseOut="this.style.backgroundColor='#{a4jSkin.rowClassName}'" 
										headerClass="tablaHeader" footerClass="tableScroll">
										<f:facet name="header" style="background-color:gray;"><span style="font-size:16px;" >EXAMENES MEDICOS</span></f:facet>
										
										<rich:column >
											<f:facet name="header">#{app.medicm_name}</f:facet>
											<h:outputText value="#{res.examen.name}" />
										</rich:column>
										
										<rich:column ><!-- #{app.examed_list_sel} -->
											<f:facet name="header">Costo</f:facet>
											<h:outputText value="#{res.examen.costo}" />
										</rich:column>
													
										<rich:column >
											<f:facet name="header">#{app.cjachi_comentario}</f:facet>
											<h:inputTextarea value="#{res.comentario}" style="width:99%;"
												rows="2" readonly="#{medicalAppointmentDAO.instance.clinicalHistory!=null}" >
												<a:support event="onblur" ajaxSingle="true" eventsQueue="q1" />
											</h:inputTextarea>
										</rich:column>
												
										<rich:column rendered="#{medicalAppointmentDAO.instance.clinicalHistory==null || wizardGeneralMedical.editable==true}">
											<f:facet name="header">Quitar</f:facet>
											<a:commandLink reRender="_tblExam"
												action="#{prescriptionHome.removerExamenN(res)}" ajaxSingle="true" ignoreDupResponses="true" >
												<h:graphicImage value="/kubeImg/table_delete16.png" />
											</a:commandLink><!-- removerExamen -->
										</rich:column>
									</rich:dataTable>
									
								</td>
							</tr>
							
							<tr>
								<td colspan="2" >
									<rich:spacer height="40" ></rich:spacer>
								</td>
							</tr>
							<tr>
								<td style="width:10%" >
									<a:commandButton onclick="#{rich:component('selServ')}.show();" ajaxSingle="true"
										rendered="#{medicalAppointmentDAO.instance.clinicalHistory==null || wizardGeneralMedical.editable==true}" 
										action="#{serviceDAO.loadServiciosList('MED')}" reRender="s1"
										styleClass="addBtn" value="AGREGAR" style="font-size:14px;width:130px;" >
									</a:commandButton>
								</td>
								<td style="width:90%" >
									
									<rich:dataTable var="res" value="#{prescriptionHome.serviciosAgregados}" id="_tblServ" 
										align="center"  rowClasses="tblEven,tblOdd" onRowMouseOver="this.style.backgroundColor='#A3CAF1'" onRowMouseOut="this.style.backgroundColor='#{a4jSkin.rowClassName}'" 
										headerClass="tablaHeader" footerClass="tableScroll">
										<f:facet name="header"><span style="font-size:16px;" >SERVICIOS MEDICOS</span></f:facet>
										<rich:column><!-- #{app.serv_list_selmed} -->
											<f:facet name="header">#{app.medicm_name}</f:facet>
											<h:outputText value="#{res.service.name}" />
										</rich:column>		
										<rich:column><!-- #{app.serv_list_selmed} -->
											<f:facet name="header">Costo</f:facet>
											<h:outputText value="#{res.service.costo}" />
										</rich:column>						
										<rich:column rendered="#{medicalAppointmentDAO.instance.clinicalHistory==null || wizardGeneralMedical.editable==true}">
											<f:facet name="header">Quitar</f:facet>
											<a:commandLink reRender="_tblServ"
												rendered="#{not empty prescriptionHome.serviciosAgregados and prescriptionHome.serviciosAgregados.size()>1}" 
												action="#{prescriptionHome.removerServicioS(res)}" ajaxSingle="true" ignoreDupResponses="true" >
												<h:graphicImage value="/kubeImg/table_delete16.png"  /><!-- rendered="#{res.medicalAppointmentServiceId==null}" -->
											</a:commandLink>
										</rich:column>	
									</rich:dataTable>
								</td>
							
							</tr>
						</table>				
					</center>
					<rich:spacer height="30px;" />
					
				</rich:simpleTogglePanel>
				
				<rich:simpleTogglePanel switchType="ajax" label="OBSERVACIONES" opened="true">
				
					<h:panelGrid columns="1" style="margin:0 auto">
						
						<s:label style="margin:0 auto;text-align:center;font-weight:bold;" >PROXIMA CITA</s:label>
						<h:inputTextarea style="width:355px;height:50px;" value="#{generalMedicalDAO.instance.proximaCita}" disabled="#{wizardGeneralMedical.mode=='r'}" />
						
					</h:panelGrid>
				</rich:simpleTogglePanel>
				
				
			<rich:spacer height="45" width="0" ></rich:spacer>
				
				
			<!-- Se movieron de steap1 -->
			
			<!-- Comentado el 06/02/2018 -->
			<h:panelGrid style="margin:0 auto;" columns="3" >
					
				<a:commandButton action="#{prescriptionHome.calcularTotalCobroC()}"
					value="Finalizar Consulta" styleClass="saveBtn"
					onclick="#{rich:component('modalConfirmConsulta')}.show();"
					rendered="true" reRender="dvConfirmC">												
				</a:commandButton><!-- #{(medicalAppointmentDAO.instance.clinicalHistory==null) || (wizarGeneralMedical.editable eq true)} -->
			</h:panelGrid> -->
			<!--  -->
					
					
			<s:div>
				<script type="text/javascript">
					function toUpperCase(obj)
					{
						obj.value.toUpperCase();
						obj.value= obj.value.toUpperCase();	
					}

					function validarLongitud255(obj){
						if(obj.value.length>230){
							obj.value = obj.value.substr(0,230);
							alert("!! Maximo de caracteres es de 230 !!");
						}
					}

					function validarLongitud700(obj){
						if(obj.value.length>650){
							obj.value = obj.value.substr(0,650);
							alert("!! Maximo de caracteres es de 650 !!");
						}
					}
				</script>
			</s:div>
			
					
		</rich:panel>
		
		<rich:modalPanel id="selMotiv" width="600" moveable="true" autosized="true"  top="40"
			onmaskclick="#{rich:component('selMotiv')}.hide();"
			onbeforeshow="activeModal.setActiveModalPanel('selMotiv');">
			<f:facet name="header">Motivos consulta</f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="/kubeImg/close.png" styleClass="closeBtn"
						onclick="#{rich:component('selMotiv')}.hide();" />
				</h:panelGroup>
			</f:facet>
			<s:div id="dMotivoConsulta"><ui:include src="addMotivoConsulta.xhtml" /></s:div>			
		</rich:modalPanel>
		<rich:modalPanel id="ModExpandirImagen" width="800" height="600" moveable="true" autosized="true"  top="40"
			onmaskclick="#{rich:component('ModExpandirImagen')}.hide();"
			onbeforeshow="activeModal.setActiveModalPanel('ModExpandirImagen');">
			<f:facet name="header">Imagen</f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="/kubeImg/close.png" styleClass="closeBtn"
						onclick="#{rich:component('ModExpandirImagen')}.hide();" />
				</h:panelGroup>
			</f:facet>
			<s:div id="ModExpandirImagenDv"><ui:include src="ModExpandirImagen.xhtml" /></s:div>			
		</rich:modalPanel>
		
		<rich:modalPanel id="selAnt-2" width="400" moveable="true" autosized="true"  top="40"
			onmaskclick="#{rich:component('selAnt-2')}.hide();"
			onbeforeshow="activeModal.setActiveModalPanel('selAnt-2');">
			<f:facet name="header">#{app.usuariolist_modal}</f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="/kubeImg/close.png" styleClass="closeBtn"
						onclick="#{rich:component('selAnt-2')}.hide();" />
				</h:panelGroup>
			</f:facet>
			<h:form id="frmSelDoc-2">
				<p:growl globalOnly="true" sticky="false" life="3000" />
				<p:focus />
				<a:queue name="q1" />
								
				<!-- <rich:dataTable var="res" value="#{clienteHome.antecedentes}" id="_table-2" -->
				<rich:dataTable var="res" value="#{antecedenteHome.resultList}" id="_table-2"
					rows="10" align="center"  rowClasses="tblEven,tblOdd" onRowMouseOver="this.style.backgroundColor='#A3CAF1'" onRowMouseOut="this.style.backgroundColor='#{a4jSkin.rowClassName}'" 
					headerClass="tablaHeader" footerClass="tableScroll">
					<f:facet name="header">Tipos de Antecedentes</f:facet>
					<rich:column filterBy="#{res.nombreAntecedente}" filterEvent="onkeyup">
						<f:facet name="header">Nombre</f:facet>
						<h:outputText value="#{res.nombreAntecedente}" />
					</rich:column>
									
					<rich:column>
						<f:facet name="header">#{msn.col_actions}</f:facet>
						<a:commandLink value="#{app.movimientomast_select_product}" reRender="antPa-2"
							action="#{antecedenteHome.addPacienteAntecedente(res,clienteHome.instance)}" ajaxSingle="true" eventsQueue="q1"							
							onclick="#{rich:component('selAnt-2')}.hide();">
						</a:commandLink>
						<!-- <a:commandLink value="#{app.movimientomast_select_product}" reRender="ant"
							action="#{clienteHome.addAntecedente(res)}" ajaxSingle="true" eventsQueue="q1"							
							onclick="#{rich:component('selAnt-2')}.hide();">
						</a:commandLink> -->
						<!--  --> 
						<!--<h:selectBooleanCheckbox value="#{clienteHome.anteceDenteSl}">
							<a:support event="onchange" ajaxSingle="true" eventsQueue="q1"  reRender="ant" 
									action="#{clienteHome.addAntecedente(res)}" />
						</h:selectBooleanCheckbox>  -->
					</rich:column>
					<f:facet name="footer">
						<rich:datascroller id="ds1Ant" renderIfSinglePage="true" />
					</f:facet>
				</rich:dataTable>				
			</h:form>			
		</rich:modalPanel>
		
		
		<!-- Inician modales de diagnostico medico -->
		
		<rich:modalPanel id="selMedicm" width="700" moveable="true" autosized="true"  top="40"
				onmaskclick="#{rich:component('selMedicm')}.hide();"
				onbeforeshow="activeModal.setActiveModalPanel('selMedicm');">
				<f:facet name="header">Medicamentos recetables</f:facet>
				<f:facet name="controls">
					<h:panelGroup>
						<h:graphicImage value="/kubeImg/close.png" styleClass="closeBtn" onclick="#{rich:component('selMedicm')}.hide();" />
					</h:panelGroup>
				</f:facet>
				<s:div id="m1"><ui:include src="/medical/clinicalHistory/addMedicm.xhtml" /></s:div>
			</rich:modalPanel>
			
			<!-- para informacion del medicamento -->
			<rich:modalPanel id="selInfoMedicamento" width="700" moveable="true" autosized="true"  top="40"
				onmaskclick="#{rich:component('selInfoMedicamento')}.hide();"
				onbeforeshow="activeModal.setActiveModalPanel('selInfoMedicamento');">
				<f:facet name="header">Medicamentos recetables</f:facet>
				<f:facet name="controls">
					<h:panelGroup>
						<h:graphicImage value="/kubeImg/close.png" styleClass="closeBtn" onclick="#{rich:component('selInfoMedicamento')}.hide();" />
					</h:panelGroup>
				</f:facet>
				<s:div id="dvMedicamentoInfoMod"><ui:include src="/medical/clinicalHistory/selInfoMedicamentoMod.xhtml" /></s:div>
			</rich:modalPanel>
			
			<rich:modalPanel id="selRecomed" width="800" moveable="true" autosized="true"  top="40"
				onmaskclick="#{rich:component('selRecomed')}.hide();"
				onbeforeshow="activeModal.setActiveModalPanel('selRecomed');">
				<f:facet name="header">Recomendaciones m�dicas</f:facet>
				<f:facet name="controls">
					<h:panelGroup>
						<h:graphicImage value="/kubeImg/close.png" styleClass="closeBtn" onclick="#{rich:component('selRecomed')}.hide();" />
					</h:panelGroup>
				</f:facet>
				<s:div id="r1"><ui:include src="/medical/clinicalHistory/addRecomed.xhtml" /></s:div>
			</rich:modalPanel>
			
			<rich:modalPanel id="selDiagn" width="800" moveable="true" autosized="true"  top="40"
				onmaskclick="#{rich:component('selDiagn')}.hide();"
				onbeforeshow="activeModal.setActiveModalPanel('selDiagn');"  >
				<f:facet name="header">Diagn�sticos m�dicos</f:facet>
				<f:facet name="controls">
					<h:panelGroup>
						<h:graphicImage value="/kubeImg/close.png" styleClass="closeBtn" onclick="#{rich:component('selDiagn')}.hide();" />
					</h:panelGroup>
				</f:facet>
				<s:div id="d1"><ui:include src="/medical/clinicalHistory/addDiagn.xhtml" /></s:div>
			</rich:modalPanel>
			
			<rich:modalPanel id="selServ" width="800" moveable="true" autosized="true"  top="40"
				onmaskclick="#{rich:component('selServ')}.hide();"
				onbeforeshow="activeModal.setActiveModalPanel('selServ');">
				<f:facet name="header">Servicios m�dicos registrados</f:facet>
				<f:facet name="controls">
					<h:panelGroup>
						<h:graphicImage value="/kubeImg/close.png" styleClass="closeBtn" onclick="#{rich:component('selServ')}.hide();" />
					</h:panelGroup>
				</f:facet>
				<s:div id="s1"><ui:include src="/medical/clinicalHistory/addService.xhtml" /></s:div>
			</rich:modalPanel>
			
			<rich:modalPanel id="modFinalizar" width="800" moveable="true" autosized="true"  top="40"
				onmaskclick="#{rich:component('modFinalizar')}.hide();"
				onbeforeshow="activeModal.setActiveModalPanel('modFinalizar');">
				<f:facet name="header">Servicios m�dicos registrados</f:facet>
				<f:facet name="controls">
					<h:panelGroup>
						<h:graphicImage value="/kubeImg/close.png" styleClass="closeBtn" onclick="#{rich:component('selServ')}.hide();" />
					</h:panelGroup>
				</f:facet>
				<s:div id="dvFinalizar"><ui:include src="/medical/clinicalHistory/modFinalizar.xhtml" /></s:div>
			</rich:modalPanel>
			
			<rich:modalPanel id="selExam" width="800" moveable="true" autosized="true"  top="40"
				onmaskclick="#{rich:component('selExam')}.hide();"
				onbeforeshow="activeModal.setActiveModalPanel('selExam');">
				<f:facet name="header">Ex�menes m�dicos</f:facet>
				<f:facet name="controls">
					<h:panelGroup>
						<h:graphicImage value="/kubeImg/close.png" styleClass="closeBtn" onclick="#{rich:component('selExam')}.hide();" />
					</h:panelGroup>
				</f:facet>
				<s:div id="e1"><ui:include src="/medical/clinicalHistory/addExam.xhtml" /></s:div>
			</rich:modalPanel>
			
			
			<!-- Nuevos  -->
			
			<rich:modalPanel id="selExamAudio" width="800" moveable="true" autosized="true"  top="40"
				onmaskclick="#{rich:component('selExamAudio')}.hide();"
				onbeforeshow="activeModal.setActiveModalPanel('selExamAudio');"  >
				<f:facet name="header">Examenes complementarios audiologia</f:facet>
				<f:facet name="controls">
					<h:panelGroup>
						<h:graphicImage value="/kubeImg/close.png" styleClass="closeBtn" onclick="#{rich:component('selExamAudio')}.hide();" />
					</h:panelGroup>
				</f:facet>
				<s:div id="d1Audio"><ui:include src="/medical/clinicalHistory/addExamAudio.xhtml" /></s:div>
			</rich:modalPanel>
			
			
			
			<rich:modalPanel id="selExamLab" width="800" moveable="true" autosized="true"  top="40"
				onmaskclick="#{rich:component('selExamLab')}.hide();"
				onbeforeshow="activeModal.setActiveModalPanel('selExamLab');"  >
				<f:facet name="header">Examenes complementarios de laboratorio</f:facet>
				<f:facet name="controls">
					<h:panelGroup>
						<h:graphicImage value="/kubeImg/close.png" styleClass="closeBtn" onclick="#{rich:component('selExamLab')}.hide();" />
					</h:panelGroup>
				</f:facet>
				<s:div id="d1ExamLab"><ui:include src="/medical/clinicalHistory/addExamLab.xhtml" /></s:div>
			</rich:modalPanel>
			
			<rich:modalPanel id="selExamImageno" width="800" moveable="true" autosized="true"  top="40"
				onmaskclick="#{rich:component('selExamImageno')}.hide();"
				onbeforeshow="activeModal.setActiveModalPanel('selExamImageno');"  >
				<f:facet name="header">Examenes complementarios de laboratorio</f:facet>
				<f:facet name="controls">
					<h:panelGroup>
						<h:graphicImage value="/kubeImg/close.png" styleClass="closeBtn" onclick="#{rich:component('selExamImageno')}.hide();" />
					</h:panelGroup>
				</f:facet>
				<s:div id="d1ExamImage"><ui:include src="/medical/clinicalHistory/addExamImage.xhtml" /></s:div>
			</rich:modalPanel>
			
			
			<rich:modalPanel id="selExamOto" width="800" moveable="true" autosized="true"  top="40"
				onmaskclick="#{rich:component('selExamOto')}.hide();"
				onbeforeshow="activeModal.setActiveModalPanel('selExamOto');"  >
				<f:facet name="header">Examenes complementarios de otoneurologia</f:facet>
				<f:facet name="controls">
					<h:panelGroup>
						<h:graphicImage value="/kubeImg/close.png" styleClass="closeBtn" onclick="#{rich:component('selExamOto')}.hide();" />
					</h:panelGroup>
				</f:facet>
				<s:div id="d1ExamOto"><ui:include src="/medical/clinicalHistory/addExamOto.xhtml" /></s:div>
			</rich:modalPanel>
		
		
</ui:composition>